package ru.org.linux.util.bbcode;

import junit.framework.Assert;
import org.junit.Test;

/**
 * Created by IntelliJ IDEA.
 * User: hizel
 * Date: 7/6/11
 * Time: 12:47 AM
 */
public class VulnerabilityTest {
  @Test
  public void urlTest0() {
    Assert.assertEquals("<p><a href=\"http://linux.org.ru\"><p>linux.org.ru</p></a></p>",
            ParserUtil.bb2xhtml("[url=http://linux.org.ru]\n\nlinux.org.ru[/url]", null));
  }

  @Test
  public void urlTest1() {
    Assert.assertEquals("<p><a href=\"http://linux.org.ru\">http://linux.org.ru</a></p>",
            ParserUtil.bb2xhtml("[url=http://linux.org.ru][/url]", null));
  }

  @Test
  public void paraTest1() {
    Assert.assertEquals("<p>some1 text</p><p>some2 text\n</p><ul>\n\n<li>one\n</li><li>two</li></ul>\n\n<p><a href=\"http://www.example.com\">http://www.example.com</a> - some3 text</p>",
        ParserUtil.bb2xhtml("some1 text\n\nsome2 text\n[list]\n\n[*]one\n[*]two\n\n[/list]\n\n[url]http://www.example.com[/url] - some3 text", null));
  }
//TODO как проверять если нет базы?
//    @Test
//    public void splinterTest1(){ // http://www.linux.org.ru/forum/linux-org-ru/6448266
//        Assert.assertEquals(ParserUtil.bb2xhtml("[url=http://www.fishing.org/][user]splinter[/user][/url]", null),
//                "<div><a href=\"http://www.fishing.org/\"></a><span style=\"white-space: nowrap\"><img src=\"/img/tuxlor.png\"><a style=\"text-decoration: none\" href='/people/splinter/profile'>splinter</a></span></div>");
//    }
}
